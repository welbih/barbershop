<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:o="http://omnifaces.org/ui">
    
    <head jsf:id="head">
    	<meta charset="UTF-8" />
    	<meta content="IE=edge" http-equiv="X-UA-Compatible" />
    	<meta content="width=device-width, initial-scale=1" name="viewport" />
    	<link href="resources/css/bootstrap.css" rel="stylesheet" />
        <title>BarberShop - Sistema Gerenciador</title>
    </head>
    
    <body jsf:id="body">
        
        <f:metadata>
            <o:viewParam name="produtoId" value="#{produtoController.produto}"/>
            <f:event listener="#{acessoController.redirecionar()}"
                 type="preRenderView" />
        </f:metadata>
        
        <ui:include src="resources/fragmentos/cabecalho.xhtml"/>
        <ui:include src="resources/fragmentos/messages.xhtml"/>
        
            <div class="container" style="margin-top: 75px">

                <h1 class="text-center">#{produtoController.editando ? 'Editar produto' : 'Cadastrar Produto'}</h1>
                <hr />
                
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <form jsf:prependId="false" jsf:id="form-produto">
                            <div class="form-group">
                                <label for="nome">Nome</label>
                                <input type="text" 
                                     class="form-control" 
                                     jsf:id="nome" 
                                     maxlength="50"
                                     placeholder="Digite o nome"
                                     jsf:required="true"
                                     jsf:requiredMessage="Nome deve ser informado."
                                     jsf:value="#{produtoController.produto.nome}"/>
                            </div>
                            <div class="form-group">
                                <label for="valorCusto">Valor de custo</label>
                                <input type="text" 
                                       class="form-control js-valor" 
                                       jsf:id="valorCusto" 
                                       maxlength="9"
                                       placeholder="Digite o valor"
                                       jsf:validator="valorNegativo"
                                       jsf:required="true"
                                       jsf:requiredMessage="Valor de custo deve ser informado."
                                       jsf:value="#{produtoController.produto.valorCusto}">
                                    <f:convertNumber maxFractionDigits="2"/>
                                </input>
                            </div>
                            <div class="form-group">
                                <label for="valorVenda">Valor de venda</label>
                                <input type="text" 
                                       class="form-control js-valor" 
                                       jsf:id="valorVenda" 
                                       maxlength="9"
                                       placeholder="Digite o valor"
                                       jsf:validator="valorNegativo"
                                       jsf:required="true"
                                       jsf:requiredMessage="Valor de venda deve ser informado."
                                       jsf:value="#{produtoController.produto.valorVenda}">
                                    <f:convertNumber maxFractionDigits="2"/>
                                </input>
                            </div>
                            <div class="form-group">
                                <label for="quantidade">Quantidade</label>
                                <input type="text" 
                                       class="form-control js-quantidade" 
                                       jsf:id="quantidade" 
                                       maxlength="3"
                                       placeholder="Digite a quantidade"
                                       jsf:validator="menorIgualAZero"
                                       jsf:required="true"
                                       jsf:requiredMessage="Quantidade deve ser informado."
                                       jsf:value="#{produtoController.produto.quantidade}">
                                </input>
                            </div>
                            <div class="text-center">
                                <button type="submit" 
                                        class="btn btn-primary" 
                                        jsf:id="salvar"
                                        jsf:action="#{produtoController.salvar()}">
                                        Salvar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>        
            
        <ui:include src="resources/fragmentos/scripts.xhtml" />
    </body>
</html> 