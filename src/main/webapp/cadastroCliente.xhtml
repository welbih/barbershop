<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:o="http://omnifaces.org/ui">
    
    <head jsf:id="head">
    	<meta charset="UTF-8" />
    	<meta content="IE=edge" http-equiv="X-UA-Compatible" />
    	<meta content="width=device-width, initial-scale=1" name="viewport" />
    	<link href="resources/css/bootstrap.css" rel="stylesheet" />
        <title>BarberShop - Sistema Gerenciador</title>
    </head>
    
    <body jsf:id="body">
        
        <f:metadata>
            <o:viewParam name="clienteId" value="#{clienteController.cliente}"/>
            <f:event listener="#{acessoController.redirecionar()}"
                 type="preRenderView" />
        </f:metadata>
        
        <ui:include src="resources/fragmentos/cabecalho.xhtml"/>
        <ui:include src="resources/fragmentos/messages.xhtml"/>
        
            <div class="container" style="margin-top: 75px">

                <h1 class="text-center">#{clienteController.editando ? 'Editar Cliente' : 'Cadastrar Cliente'}</h1>
                <hr />
                
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <form jsf:prependId="false" jsf:id="form-usuario">
                            <div class="form-group">
                                <label for="nome">Nome</label>
                                <input type="text" 
                                     class="form-control" 
                                     id="nome" 
                                     maxlength="50"
                                     placeholder="Digite o nome"
                                     jsf:required="true"
                                     jsf:requiredMessage="Nome deve ser informado."
                                     jsf:value="#{clienteController.cliente.nome}"/>
                            </div>
                            <div class="form-group">
                                <label for="cpf">E-mail</label>
                                <input type="text" 
                                       class="form-control" 
                                       id="email" 
                                       placeholder="Digite o email"
                                       jsf:required="true"
                                       jsf:requiredMessage="E-mail deve ser informado."
                                       jsf:value="#{clienteController.cliente.email}"/>
                            </div>
                            <div class="form-group">
                                <label for="telefone">Celular</label>
                                <input type="text" 
                                       class="form-control js-celular" 
                                       id="celular" 
                                       pattern="\([\d{2}\) \d{5}-\d{4}"
                                       placeholder="Digite o número"
                                       maxlength="15"
                                       jsf:required="true"
                                       jsf:requiredMessage="Celular deve ser informado."
                                       jsf:validatorMessage="Número de celular invalido, utilize o seguite formato (99) 99999-9999"
                                       jsf:value="#{clienteController.cliente.celular}">
                                    <f:validateRegex pattern="\(\d{2}\) \d{5}-\d{4}"/>
                                </input>
                            </div>
                            <div class="text-center">
                                <button type="submit" 
                                        class="btn btn-primary" 
                                        jsf:id="salvar"
                                        jsf:action="#{clienteController.salvar()}">
                                        Salvar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>        
            
        <ui:include src="resources/fragmentos/scripts.xhtml" />
    </body>
</html>    
