<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:o="http://omnifaces.org/ui">
    
    <head jsf:id="head">
    	<meta charset="UTF-8" />
    	<meta content="IE=edge" http-equiv="X-UA-Compatible" />
    	<meta content="width=device-width, initial-scale=1" name="viewport" />
    	<link href="resources/css/bootstrap.css" rel="stylesheet" />
        <title>BarberShop - Sistema Gerenciador</title>
    </head>
    
    <body jsf:id="body">
        
        <f:metadata>
            <o:viewParam name="usuarioId" value="#{usuarioController.usuario}" />
            <f:event listener="#{acessoController.redirecionar()}"
                 type="preRenderView" />
        </f:metadata>

        <ui:include src="resources/fragmentos/cabecalho.xhtml"/>
        <ui:include src="resources/fragmentos/messages.xhtml"/>
        
            <div class="container" style="margin-top: 75px">

                <h1 class="text-center">#{usuarioController.editando ? 'Editar Usuário' : 'Novo Usuário'}</h1>
                <hr />
                
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <form jsf:prependId="false">
                            <div class="form-group">
                                <label for="nome">Nome</label>
                                <input type="text" 
                                     class="form-control" 
                                     id="nome" 
                                     placeholder="Digite o nome"
                                     maxlength="50"
                                     jsf:required="true"
                                     jsf:requiredMessage="Nome deve ser informado."
                                     jsf:value="#{usuarioController.usuario.nome}"/>
                            </div>
                            <div class="form-group">
                                <label for="cpf">E-mail</label>
                                <input type="text" 
                                       class="form-control" 
                                       id="email" 
                                       placeholder="Digite o e-mail"
                                       jsf:required="true"
                                       jsf:requiredMessage="E-mail deve ser informado."
                                       jsf:value="#{usuarioController.usuario.email}"/>
                            </div>
                            <div class="form-group">
                                <label for="celular">Celular</label>
                                <input type="text" 
                                       class="form-control js-celular"
                                       id="celular"
                                       placeholder="Digite o número"
                                       maxlength="15"
                                       jsf:required="true"
                                       jsf:requiredMessage="Celular deve ser informado."
                                       jsf:validatorMessage="Celular deve o seguinte formato (99) 99999-9999"
                                       jsf:value="#{usuarioController.usuario.celular}">
                                    <f:validateRegex pattern="\(\d{2}\) \d{5}-\d{4}"/>
                                </input>
                                       
                            </div>
                            <div class="form-group">
                                <label for="cpf">CPF</label>
                                <input type="text" 
                                       class="form-control js-cpf" 
                                       name="cpf"
                                       id="cpf" 
                                       placeholder="Digite o cpf"
                                       jsf:required="true"
                                       jsf:requiredMessage="CPF deve ser informado."
                                       jsf:value="#{usuarioController.usuario.cpf}">
                                </input>
                            </div>
                            <div class="form-group">
                                <label for="acesso">Acesso</label>
                                <select class="form-control"
                                    jsf:value="#{usuarioController.usuario.acesso}" 
                                    id="acesso" 
                                    jsf:required="true"
                                    jsf:requiredMessage="Selecione o tipo de Acesso."
                                    size="1" >
                                <f:selectItem itemLabel="Selecione" />
                                <f:selectItems value="#{enunsController.acesso}"
                                               itemValue="#{acesso}"
                                               var="acesso"
                                               itemLabel="#{acesso.nome}" />
                            </select>
                            </div>
                            <div class="text-center">
                                <button type="submit" 
                                        class="btn btn-primary" 
                                        jsf:action="#{usuarioController.salvar()}">
                                        Salvar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>        
            
        <ui:include src="resources/fragmentos/scripts.xhtml" />
    </body>
</html> 
